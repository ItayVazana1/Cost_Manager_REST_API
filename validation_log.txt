
🧪 Running Functional API Tests...

──────────────────────────────────────────────────────────────────────
✅ /api/about returns only first_name and last_name
🎯 +10 points
📆 Response:
[
    {
        "first_name": "Itay",
        "last_name": "Vazana"
    },
    {
        "first_name": "Arthur",
        "last_name": "Blitsman"
    }
]
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/about does not include extra fields
🎯 +3 points
📆 Response:
[
    {
        "first_name": "Itay",
        "last_name": "Vazana"
    },
    {
        "first_name": "Arthur",
        "last_name": "Blitsman"
    }
]
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/report returns valid empty report with all required categories
🎯 +7 points
📆 Response:
{
    "userid": 123123,
    "year": 2025,
    "month": 6,
    "costs": [
        {
            "food": []
        },
        {
            "health": []
        },
        {
            "housing": []
        },
        {
            "sport": []
        },
        {
            "education": []
        }
    ]
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/add accepts valid cost and returns it
🎯 +7 points
📆 Response:
{
    "userid": 123123,
    "description": "milk test",
    "category": "food",
    "sum": 7,
    "date": "2025-06-15T00:00:00.000Z",
    "_id": "6840bcb6141c4d3af26afdef"
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/add returns 400 on missing userid
🎯 +7 points
📆 Response:
{
    "error": "userid must be a number"
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/add returns 400 on invalid category
🎯 +7 points
📆 Response:
{
    "error": "category must be one of the predefined categories"
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/users/:id returns correct user info
🎯 +7 points
📆 Response:
{
    "id": 123123,
    "first_name": "mosh",
    "last_name": "israeli",
    "total": 7
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/users/:id does not include extra user fields
🎯 +3 points
📆 Response:
{
    "id": 123123,
    "first_name": "mosh",
    "last_name": "israeli",
    "total": 7
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/users/:id returns 404 on missing user
🎯 +3 points
📆 Response:
{
    "error": "User not found"
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/report includes new item after add
🎯 +9 points
📆 Response:
{
    "userid": 123123,
    "year": 2025,
    "month": 6,
    "costs": [
        {
            "food": [
                {
                    "sum": 7,
                    "description": "milk test",
                    "day": 15
                }
            ]
        },
        {
            "health": []
        },
        {
            "housing": []
        },
        {
            "sport": []
        },
        {
            "education": []
        }
    ]
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/add returns 400 on invalid date format
🎯 +5 points
📆 Response:
{
    "error": "date must be a valid date string or omitted"
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/add returns 400 on negative sum
🎯 +5 points
📆 Response:
{
    "error": "sum must be a non-negative number"
}
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ /api/add returns 400 on empty description
🎯 +5 points
📆 Response:
{
    "error": "description is required and must be a string"
}
──────────────────────────────────────────────────────────────────────

🧱 Running Structure & Code Checks...

──────────────────────────────────────────────────────────────────────
✅ Project has required folders & files
🎯 +3 points
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ Each controller is in a separate file
🎯 +2 points
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ Each endpoint has a matching test file
🎯 +2 points
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ Each JS file starts with proper JSDoc header
🎯 +3 points
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ No use of 'var' in any JS file
🎯 +2 points
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ README includes team info and YouTube link
🎯 +2 points
──────────────────────────────────────────────────────────────────────

🧪 Adding one cost per required category...
✅ Added food
✅ Added health
✅ Added housing
✅ Added sport
✅ Added education

🗄️ Running MongoDB Content Tests...

──────────────────────────────────────────────────────────────────────
✅ Contains mock user with ID 123123
🎯 +4 points
──────────────────────────────────────────────────────────────────────

──────────────────────────────────────────────────────────────────────
✅ Contains at least one cost per required category
🎯 +4 points
──────────────────────────────────────────────────────────────────────

🗑️ Cleaning up inserted test costs...
🧹 Deleted 5 test cost items.

📋 CHECKLIST SUMMARY:

✅ /api/about returns only first_name and last_name (10/10)
✅ /api/about does not include extra fields (3/3)
✅ /api/report returns valid empty report with all required categories (7/7)
✅ /api/add accepts valid cost and returns it (7/7)
✅ /api/add returns 400 on missing userid (7/7)
✅ /api/add returns 400 on invalid category (7/7)
✅ /api/users/:id returns correct user info (7/7)
✅ /api/users/:id does not include extra user fields (3/3)
✅ /api/users/:id returns 404 on missing user (3/3)
✅ /api/report includes new item after add (9/9)
✅ /api/add returns 400 on invalid date format (5/5)
✅ /api/add returns 400 on negative sum (5/5)
✅ /api/add returns 400 on empty description (5/5)
✅ Project has required folders & files (3/3)
✅ Each controller is in a separate file (2/2)
✅ Each endpoint has a matching test file (2/2)
✅ Each JS file starts with proper JSDoc header (3/3)
✅ No use of 'var' in any JS file (2/2)
✅ README includes team info and YouTube link (2/2)
✅ Contains mock user with ID 123123 (4/4)
✅ Contains at least one cost per required category (4/4)

✅ FINAL SCORE: 100 / 100
📄 All results logged to: validation_log.txt
